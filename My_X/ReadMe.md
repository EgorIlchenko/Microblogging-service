<p align="center">
  <img src="images/twitter_logo.png" alt="Logo" width="300">
</p>

# ğŸš€ Ğ¡ĞµÑ€Ğ²Ğ¸Ñ Ğ¼Ğ¸ĞºÑ€Ğ¾Ğ±Ğ»Ğ¾Ğ³Ğ¾Ğ²

ĞšĞ¾Ñ€Ğ¿Ğ¾Ñ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ñ‚Ğ²Ğ¸Ñ‚Ğ¾Ğ², ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¼ĞµĞ´Ğ¸Ğ°Ñ„Ğ°Ğ¹Ğ»Ğ°Ğ¼Ğ¸ Ğ¸ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸. Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ» Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‚Ğ²Ğ¸Ñ‚Ğ¾Ğ², Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ Ğ½Ğ° Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ»Ğ°Ğ¹ĞºĞ°Ğ¼Ğ¸ Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹.

---

## ğŸŒ Ğ”ĞµĞ¼Ğ¾

Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ API Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ° Ğ¿Ğ¾ Ğ°Ğ´Ñ€ĞµÑÑƒ: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹:

1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ²Ğ¸Ñ‚Ğ°.
2. Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ.
3. ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ»ĞµĞ½Ñ‚Ñ‹ Ñ‚Ğ²Ğ¸Ñ‚Ğ¾Ğ².

---

## ğŸ” Ğ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»:**

- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¸ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ²Ğ¸Ñ‚Ğ¾Ğ².
- Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ»Ğ°Ğ¹ĞºĞ°Ğ¼Ğ¸ (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ).
- ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ Ğ¸ Ğ¾Ñ‚Ğ¿Ğ¸ÑĞºĞ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸.
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¸ Ğ¿Ñ€Ğ¸Ğ²ÑĞ·ĞºĞ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğº Ñ‚Ğ²Ğ¸Ñ‚Ğ°Ğ¼.
- ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ»ĞµĞ½Ñ‚Ñ‹ Ñ‚Ğ²Ğ¸Ñ‚Ğ¾Ğ² Ñ ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¾Ğ¹ Ğ¿Ğ¾ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ğ¾ÑÑ‚Ğ¸.

**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:**

- FastAPI
- PostgreSQL
- SQLAlchemy
- Alembic
- Docker Compose
- Sentry
- Prometheus
- Grafana

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ ÑĞµÑ€Ğ²Ğ¸ÑĞ°**

![StartPage](images/StartPage.png)

---

## ğŸ”§ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº

### 1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ
```bash
git clone https://gitlab.skillbox.ru/egor_ilchenko/python_advanced_diploma.git
cd python_advanced_diploma
```

### 2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» `.env` Ğ¸ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ ĞµĞ³Ğ¾ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¼Ğ¸ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ğ¼Ğ¸:
```env
DB_HOST=
DB_PORT=
DB_NAME=
DB_USER=
DB_PASSWORD=
UPLOAD_DIR=
SENTRY_DSN=
```

### 3. Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‡ĞµÑ€ĞµĞ· Docker Compose
```bash
docker-compose up -d
```

ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ Ğ¿Ğ¾ Ğ°Ğ´Ñ€ĞµÑÑƒ: [http://127.0.0.1:8000](http://127.0.0.1:8000)

---

## ğŸ–‹ï¸ API ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹

### 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ²Ğ¸Ñ‚Ğ°
**POST** `/api/tweets`

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°:
```json
{
    "tweet_data": "ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ‚Ğ²Ğ¸Ñ‚Ğ°",
    "tweet_media_ids": [1, 2]
}
```
**ĞÑ‚Ğ²ĞµÑ‚:**
```json
{
    "result": true,
    "tweet_id": 123
}
```

### 2. Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¼ĞµĞ´Ğ¸Ğ°Ñ„Ğ°Ğ¹Ğ»Ğ°
**POST** `/api/medias`

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ° (form-data):
```http
file: image.jpg
```
**ĞÑ‚Ğ²ĞµÑ‚:**
```json
{
    "result": true,
    "media_id": 1
}
```

### 3. Ğ›ĞµĞ½Ñ‚Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
**GET** `/api/tweets`

**ĞÑ‚Ğ²ĞµÑ‚:**
```json
{
    "result": true,
    "tweets": [
        {
            "id": 1,
            "content": "ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ñ‚Ğ²Ğ¸Ñ‚Ğ°",
            "attachments": ["/uploads/1.jpg"],
            "author": {"id": 2, "name": "User1"},
            "likes": [
                {"user_id": 3, "name": "User2"}
            ]
        }
    ]
}
```

---

## ğŸ“Š ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

Ğ’Ğ¾Ñ‚ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ñ… Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ Ğ¸ Ğ¸Ñ… ÑĞ²ÑĞ·ĞµĞ¹:

### **User**
- `id` (int, primary key) â€” ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ.
- `name` (str) â€” Ğ¸Ğ¼Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ.

### **Tweet**
- `id` (int, primary key) â€” ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ñ‚Ğ²Ğ¸Ñ‚Ğ°.
- `content` (str) â€” Ñ‚ĞµĞºÑÑ‚ Ñ‚Ğ²Ğ¸Ñ‚Ğ°.
- `user_id` (int, foreign key) â€” ID Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ° Ñ‚Ğ²Ğ¸Ñ‚Ğ°.

### **Media**
- `id` (int, primary key) â€” ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¼ĞµĞ´Ğ¸Ğ°Ñ„Ğ°Ğ¹Ğ»Ğ°.
- `file_path` (str) â€” Ğ¿ÑƒÑ‚ÑŒ Ğº Ñ„Ğ°Ğ¹Ğ»Ñƒ.
- `user_id` (int, foreign key) â€” ID Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ, Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ğ²ÑˆĞµĞ³Ğ¾ Ñ„Ğ°Ğ¹Ğ».

### **Like**
- `id` (int, primary key) â€” ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ»Ğ°Ğ¹ĞºĞ°.
- `tweet_id` (int, foreign key) â€” ID Ñ‚Ğ²Ğ¸Ñ‚Ğ°.
- `user_id` (int, foreign key) â€” ID Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ, Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ğ²ÑˆĞµĞ³Ğ¾ Ğ»Ğ°Ğ¹Ğº.

### **Follower**
- `id` (int, primary key) â€” ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸.
- `follower_id` (int, foreign key) â€” ID Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‡Ğ¸ĞºĞ°.
- `followed_id` (int, foreign key) â€” ID Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ, Ğ½Ğ° ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ»Ğ¸ÑÑŒ.

---

## ğŸ”„ Ğ¡Ñ…ĞµĞ¼Ğ° Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹

```plaintext
User (1) â€” (N) Tweet
User (1) â€” (N) Media
User (1) â€” (N) Like
User (1) â€” (N) Follower (follower_id -> followed_id)
Tweet (1) â€” (N) Like
Tweet (1) â€” (N) Media
```
## ğŸ–¼ï¸ ER-Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°
![ER-Ğ”Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°](images/twitter_db-public.png)

---

## ğŸ”— ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹
- **Email**: egor.ilchenko23@list.ru
- **GitHub**: EgorIlchenko

---
